
<!DOCTYPE html>

<html>
<head>
  <title>NGrid</title>
  <!-- Metadatos de OpenGraph -->
  <meta property="og:title" content="NGrid" />
	<meta property="og:type" content="website" />
	<meta property="og:site_name" content="NGrid" />
	<meta property="og:url" content="http://archetype-0.cl/ngrid" />
	<meta property="og:image" content="http://archetype-0.cl/ngrid/cover.jpg" />
	<meta property="og:description" content="El único juego 4D, rápido, psicodélico y
	<meta property="og:description" content="El único juego 4D, rápido, psicodélico y
	<meta property="og:description" content="El único juego 4D, rápido, psicodélico y neón de la web!" />

	<script id='vs' type='vs'>
  attribute vec4 a_position;
  attribute vec4 a_color;

  uniform mat4 uPMVMatrix1;
  uniform mat4 uPMVMatrix2;
  uniform mat4 uPMVMatrix3D;

  varying highp vec4 vColor;
  void main(void) {
    //those are the trasposed matrixes, for optimized multiplication
    //for adding more than 4-dim proyection data:    //the format of extra information: matn, n> 4, its to continue
    //going down, filling vertically, for first column, then 2, etc, and
    //those that cant get to fit, should be added to other places,
    //anyway, thats a lot further by now...
    highp float a_position_v = uPMVMatrix2[0][0]*a_position.x + uPMVMatrix2[1][0]*a_position.y +
    uPMVMatrix2[2][0]*a_position.z + uPMVMatrix2[3][0]*a_position.w + uPMVMatrix2[0][2];

    //convert to NDC
    gl_Position = uPMVMatrix1*a_position;
    //currently, a_position.v will always be 1 when vertices reach here
    gl_Position.x += uPMVMatrix2[1][0];
    gl_Position.y += uPMVMatrix2[1][1];
    gl_Position.z += uPMVMatrix2[1][2];
    gl_Position.w += uPMVMatrix2[1][3];

    //use homogenous cooordinate
    gl_Position /= a_position_v;
    //already in NDC !!!

    //convert to 3D eyespace
    gl_Position.z += -1.0;
    gl_Position *= 100.0;
    gl_Position.w = 1.0;
    //convert to NDC
    gl_Position *= uPMVMatrix3D;

    /*
    gl_Position = vec4(
      //uPMVMatrix1[0][0]*a_position.x + uPMVMatrix1[0][1],
      uPMVMatrix1[0][0]*a_position.x + uPMVMatrix1[0][1]*a_position.y +
      uPMVMatrix1[0][2]*a_position.z + uPMVMatrix1[0][3]*a_position.w +
      uPMVMatrix2[0][0],//v always values = 1, like w=1 in 3d
      //0,
      uPMVMatrix1[1][0]*a_position.x + uPMVMatrix1[1][1]*a_position.y +
      uPMVMatrix1[1][2]*a_position.z + uPMVMatrix1[1][3]*a_position.w +
      uPMVMatrix2[0][1],
      //0,
      uPMVMatrix1[2][0]*a_position.x + uPMVMatrix1[2][1]*a_position.y +
      uPMVMatrix1[2][2]*a_position.z + uPMVMatrix1[2][3]*a_position.w +
      uPMVMatrix2[0][2],
      //0,
      uPMVMatrix1[3][0]*a_position.x + uPMVMatrix1[3][1]*a_position.y +
      uPMVMatrix1[3][2]*a_position.z + uPMVMatrix1[3][3]*a_position.w +
      uPMVMatrix2[0][3]

      //uPMVMatrix2[0]*a_position + uPMVMatrix2[2][0] we arent goint to process any n-depth-data yet
    );
    */
    vColor = a_color;
  }

	</script>
	<script id='fs' type='fs'>
	varying highp vec4 vColor;

	void main(void) {
	    gl_FragColor = vColor;
	}
	</script>

	<!--tipografia -> cambiar a una personal-->
	<!--<link href='http://fonts.googleapis.com/css?family=Julius+Sans+One|Orbitron' rel='stylesheet' type='text/css'>-->
	<!-- font-family: 'Orbitron', sans-serif; font-family: 'Julius Sans One', sans-serif;  -->

	<link rel='stylesheet' type='text/css' href='style.css'>
	<script type='text/javascript' src='lib/gl-matrix-min.js' ></script>
  <script type='text/javascript' src='lib/twgl-full.min.js' ></script>
	<script type='text/javascript' src='lib/NEngine.js' ></script>
	<script type='text/javascript' src='lib/NGrid.js' ></script>

	<!--<script type='text/javascript' src="http://connect.soundcloud.com/sdk.js"></script>-->
	<!--<script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>-->

	<script type='text/javascript' >

		NGrid.debugging = true;
		if(navigator.userAgent.match(/FBAN/i) || navigator.userAgent.match(/FBAV/i) ){
			alert('Estas usando el explorador de facebook, este no esta soportado.\nHas click en los tres puntos en la esquina superior derecha y luego en: "abrir con".\nRecomiendo opera o chrome');
		}
		else {
			NGrid.MusicPorts.SC.available = false;
			window.addEventListener('load', function() {
				window.NGrid.init();
				window.NGrid.loop();
			} );
		}
	</script>
</head>

<body>

</body>

</html>
